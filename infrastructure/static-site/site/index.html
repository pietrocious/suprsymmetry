<!DOCTYPE html>
<html lang="en">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8308NNRLFJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8308NNRLFJ');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pietro Uni Segura | Infrastructure Engineer
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #0f172a;
            --accent: #22c55e;
            --window-bg: rgba(30, 41, 59, 0.95);
        }
        
        body {
            font-family: 'Inter', sans-serif;
            overflow: hidden;
            background-color: #000;
            user-select: none;
        }

        .font-mono {
            font-family: 'JetBrains Mono', monospace;
        }

        /* CRT Effect for Boot Screen */
        .crt::before {
            content: " ";
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            z-index: 2;
            background-size: 100% 2px, 3px 100%;
            pointer-events: none;
        }

        /* Window Animations */
        .window {
            transition: transform 0.1s, opacity 0.2s;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            backdrop-filter: blur(10px);
        }
        
        .window.maximizing {
            transition: all 0.3s ease-in-out;
        }

        .desktop-icon:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1e293b; 
        }
        ::-webkit-scrollbar-thumb {
            background: #475569; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b; 
        }

        /* Terminal Cursor Blink */
        .cursor-blink {
            animation: blink 1s step-end infinite;
        }
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        #boot-screen {
            z-index: 9999;
        }
    </style>
</head>
<body class="h-screen w-screen text-slate-200 relative">

    <!-- Boot Screen -->
    <div id="boot-screen" class="absolute inset-0 bg-black font-mono text-green-500 p-8 crt flex flex-col justify-start">
        <div id="boot-text" class="whitespace-pre-wrap"></div>
    </div>

    <!-- Desktop Environment -->
    <div id="desktop" class="absolute inset-0 bg-slate-900 hidden bg-[url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop')] bg-cover bg-center">
        <!-- Overlay for better text readability -->
        <div class="absolute inset-0 bg-black/40 pointer-events-none"></div>

        <!-- Desktop Icons -->
        <div class="absolute top-4 left-4 flex flex-col gap-4 z-0">
            <div class="desktop-icon w-24 h-24 flex flex-col items-center justify-center rounded cursor-pointer p-2 transition-colors" onclick="openWindow('about')">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-blue-400 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
                <span class="text-xs text-center font-medium drop-shadow-md">About_Me.txt</span>
            </div>

            <div class="desktop-icon w-24 h-24 flex flex-col items-center justify-center rounded cursor-pointer p-2 transition-colors" onclick="openWindow('projects')">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-yellow-400 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z" />
                </svg>
                <span class="text-xs text-center font-medium drop-shadow-md">Projects</span>
            </div>

            <div class="desktop-icon w-24 h-24 flex flex-col items-center justify-center rounded cursor-pointer p-2 transition-colors" onclick="openWindow('terminal')">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-gray-300 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
                <span class="text-xs text-center font-medium drop-shadow-md">Terminal</span>
            </div>

            <div class="desktop-icon w-24 h-24 flex flex-col items-center justify-center rounded cursor-pointer p-2 transition-colors" onclick="openWindow('contact')">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-green-400 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                </svg>
                <span class="text-xs text-center font-medium drop-shadow-md">Contact.sh</span>
            </div>
        </div>

        <!-- Windows Container -->
        <div id="windows-container" class="absolute inset-0 pointer-events-none overflow-hidden pb-12">
            <!-- Windows will be injected here by JS -->
        </div>

        <!-- Taskbar -->
        <div class="absolute bottom-0 left-0 right-0 h-12 bg-slate-900/90 backdrop-blur-md border-t border-slate-700 flex items-center px-4 justify-between z-50">
            <div class="flex items-center gap-4">
                <button class="flex items-center gap-2 px-3 py-1.5 bg-blue-600 hover:bg-blue-500 rounded text-white font-bold transition-colors" onclick="toggleStartMenu()">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                    </svg>
                    <span>Start</span>
                </button>
                <div id="taskbar-apps" class="flex gap-2">
                    <!-- Active apps will appear here -->
                </div>
            </div>
            <div class="flex items-center gap-4 text-sm font-mono text-slate-400">
                <div class="flex items-center gap-2">
                    <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                    <span>US-EAST-1</span>
                </div>
                <div id="clock">00:00</div>
            </div>
        </div>

        <!-- Start Menu -->
        <div id="start-menu" class="absolute bottom-14 left-2 w-64 bg-slate-800/95 backdrop-blur border border-slate-700 rounded-lg shadow-2xl hidden flex-col z-50">
            <div class="p-4 border-b border-slate-700 flex items-center gap-3">
                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold">
                    PU
                </div>
                <div>
                    <div class="font-bold text-white">Pietro Uni</div>
                    <div class="text-xs text-slate-400">Infrastructure Engineer</div>
                </div>
            </div>
            <div class="py-2">
                <button class="w-full text-left px-4 py-2 hover:bg-slate-700 text-slate-200 flex items-center gap-2" onclick="openWindow('about'); toggleStartMenu()">
                    <span>üìÑ</span> About Me
                </button>
                <button class="w-full text-left px-4 py-2 hover:bg-slate-700 text-slate-200 flex items-center gap-2" onclick="openWindow('projects'); toggleStartMenu()">
                    <span>üöÄ</span> Projects
                </button>
                <button class="w-full text-left px-4 py-2 hover:bg-slate-700 text-slate-200 flex items-center gap-2" onclick="openWindow('terminal'); toggleStartMenu()">
                    <span>üíª</span> Terminal
                </button>
                <button class="w-full text-left px-4 py-2 hover:bg-slate-700 text-slate-200 flex items-center gap-2" onclick="openWindow('contact'); toggleStartMenu()">
                    <span>üìß</span> Contact
                </button>
            </div>
            <div class="p-2 border-t border-slate-700">
                <button class="w-full text-left px-4 py-2 hover:bg-red-900/50 text-red-400 rounded flex items-center gap-2" onclick="location.reload()">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                    </svg>
                    Reboot System
                </button>
            </div>
        </div>
    </div>

    <script>
        // --- Configuration ---
        const config = {
            bootSpeed: 30, // ms per char
            autoBoot: true
        };

        // --- State ---
        let zIndexCounter = 100;
        let activeWindows = {};
        
        // --- Boot Sequence ---
        const bootText = [
            "Initializing Kernel v4.2.0...",
            "Loading modules: CPU, RAM, DISK, NET...",
            "[OK] CPU: 16 Cores Detected",
            "[OK] RAM: 64GB DDR5 Verified",
            "Mounting file systems...",
            "/dev/sda1 mounted on /",
            "Loading user profile: Visitor",
            "Starting UI Subsystem...",
            "Establishing secure connection to S3...",
            "Done.",
            "Welcome to suprsymmetry.com"
        ];

        async function typeWriter(text, elementId) {
            const element = document.getElementById(elementId);
            for (let line of text) {
                const p = document.createElement('div');
                p.className = "mb-1";
                element.appendChild(p);
                
                if (line.startsWith("[OK]")) {
                    p.innerHTML = `<span class="text-green-400 font-bold">[OK]</span> ${line.substring(4)}`;
                } else {
                    for (let char of line) {
                        p.textContent += char;
                        await new Promise(r => setTimeout(r, 10)); // Fast typing
                    }
                }
                await new Promise(r => setTimeout(r, 100)); // Pause between lines
                window.scrollTo(0, document.body.scrollHeight);
            }
            await new Promise(r => setTimeout(r, 800));
            document.getElementById('boot-screen').style.display = 'none';
            document.getElementById('desktop').classList.remove('hidden');
            
            // Auto open About window
            setTimeout(() => openWindow('about'), 500);
        }

        if (config.autoBoot) {
            typeWriter(bootText, 'boot-text');
        } else {
            document.getElementById('boot-screen').style.display = 'none';
            document.getElementById('desktop').classList.remove('hidden');
        }

        // --- Window Management ---
        const windows = {
            about: {
                title: "About_Me.txt",
                icon: "üìÑ",
                content: `
                    <div class="p-6 font-mono text-sm leading-relaxed">
                        <h1 class="text-2xl font-bold text-blue-400 mb-4">Hello, World! üëã</h1>
                        <p class="mb-4">I'm Pietro Uni, an Infrastructure Engineer with 4+ years of production experience building and operating enterprise platforms.</p>
                        <p class="mb-4">Deep networking foundation (CCNA/CCNP certified, 3+ years Cisco TAC) enables rapid troubleshooting of distributed systems, design of scalable architectures, and management of high-availability environments.</p>
                        
                        <div class="grid grid-cols-2 gap-4 mt-6">
                            <div>
                                <h3 class="text-green-400 font-bold mb-2">Cloud & Infrastructure</h3>
                                <ul class="list-disc list-inside text-slate-300">
                                    <li>AWS (VPC, EC2, S3, CloudFront)</li>
                                    <li>Terraform / Ansible</li>
                                    <li>Kubernetes / Docker</li>
                                    <li>Linux / Windows Server</li>
                                </ul>
                            </div>
                            <div>
                                <h3 class="text-green-400 font-bold mb-2">Networking</h3>
                                <ul class="list-disc list-inside text-slate-300">
                                    <li>OSPF / EIGRP / BGP / STP</li>
                                    <li>Cisco Catalyst / DNA Center</li>
                                    <li>Python scripting</li>
                                    <li>Protocol analysis</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                `,
                width: 600,
                height: 450
            },
            projects: {
                title: "~/Projects",
                icon: "üöÄ",
                content: `
                    <div class="p-4 bg-slate-900 h-full overflow-y-auto">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <!-- Project 1 -->
                            <div class="bg-slate-800 p-4 rounded border border-slate-700 hover:border-blue-500 transition-colors cursor-pointer group" onclick="window.open('https://github.com/pietrocious/suprsymmetry', '_blank')">
                                <div class="flex justify-between items-start mb-2">
                                    <h3 class="font-bold text-blue-400 group-hover:text-blue-300">suprsymmetry</h3>
                                    <span class="text-xs bg-slate-700 px-2 py-1 rounded">Terraform</span>
                                </div>
                                <p class="text-sm text-slate-400 mb-3">Production-grade AWS infrastructure with multi-AZ VPC, ALB, ASG. Reusable Terraform modules with S3/DynamoDB state management.</p>
                                <div class="flex gap-2 text-xs text-slate-500">
                                    <span>üîó github.com/pietrocious</span>
                                </div>
                            </div>

                            <!-- Project 2 -->
                            <div class="bg-slate-800 p-4 rounded border border-slate-700 hover:border-blue-500 transition-colors cursor-pointer group" onclick="window.open('https://suprsymmetry.com', '_blank')">
                                <div class="flex justify-between items-start mb-2">
                                    <h3 class="font-bold text-blue-400 group-hover:text-blue-300">Portfolio Website</h3>
                                    <span class="text-xs bg-slate-700 px-2 py-1 rounded">AWS</span>
                                </div>
                                <p class="text-sm text-slate-400 mb-3">Static site on S3/CloudFront/Route53 with SSL/TLS. Infrastructure-as-code with Terraform, validated through destroy/rebuild testing.</p>
                                <div class="flex gap-2 text-xs text-slate-500">
                                    <span>üåê suprsymmetry.com</span>
                                </div>
                            </div>

                            <!-- Project 3 -->
                            <div class="bg-slate-800 p-4 rounded border border-slate-700 hover:border-blue-500 transition-colors cursor-pointer group">
                                <div class="flex justify-between items-start mb-2">
                                    <h3 class="font-bold text-blue-400 group-hover:text-blue-300">Network Automation</h3>
                                    <span class="text-xs bg-slate-700 px-2 py-1 rounded">Python</span>
                                </div>
                                <p class="text-sm text-slate-400 mb-3">Python scripts for Cisco DNA Center: automated config backups, compliance validation, bulk changes across 20+ devices. 95% error reduction.</p>
                                <div class="flex gap-2 text-xs text-slate-500">
                                    <span>üêç Cisco DNA Center API</span>
                                </div>
                            </div>
                        </div>
                    </div>
                `,
                width: 700,
                height: 500
            },
            terminal: {
                title: "bash -- visitor@suprsymmetry",
                icon: "üíª",
                content: `
                    <div class="h-full bg-black p-2 font-mono text-sm text-green-500 flex flex-col" onclick="document.getElementById('term-input').focus()">
                        <div id="term-output" class="flex-1 overflow-y-auto mb-2">
                            <div>Welcome to suprsymmetry Shell v1.0</div>
                            <div>Type 'help' for available commands.</div>
                            <br>
                        </div>
                        <div class="flex items-center">
                            <span class="mr-2 text-blue-400">pietro@suprsymmetry:~$</span>
                            <input type="text" id="term-input" class="bg-transparent border-none outline-none text-green-500 flex-1" autocomplete="off">
                        </div>
                    </div>
                `,
                width: 600,
                height: 400,
                onOpen: () => {
                    setTimeout(() => {
                        const input = document.getElementById('term-input');
                        if(input) {
                            input.focus();
                            input.addEventListener('keydown', handleTerminalCommand);
                        }
                    }, 100);
                }
            },
            contact: {
                title: "Contact.sh",
                icon: "üìß",
                content: `
                    <div class="p-6 flex flex-col items-center justify-center h-full text-center">
                        <div class="w-20 h-20 bg-slate-700 rounded-full flex items-center justify-center mb-6">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                            </svg>
                        </div>
                        <h2 class="text-2xl font-bold text-white mb-2">Let's Connect</h2>
                        <p class="text-slate-400 mb-4 max-w-md">Infrastructure Engineer based in Barcelona, Spain</p>
                        <p class="text-slate-300 mb-8">pietrouni@gmail.com | +34 682 635 992</p>
                        
                        <div class="flex gap-4">
                            <a href="mailto:pietrouni@gmail.com" class="px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded font-medium transition-colors">Email Me</a>
                            <a href="https://linkedin.com/in/pietrouni" target="_blank" class="px-6 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded font-medium transition-colors">LinkedIn</a>
                            <a href="https://github.com/pietrocious" target="_blank" class="px-6 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded font-medium transition-colors">GitHub</a>
                        </div>
                    </div>
                `,
                width: 500,
                height: 400
            }
        };

        function openWindow(id) {
            if (activeWindows[id]) {
                bringToFront(id);
                return;
            }

            const winConfig = windows[id];
            const win = document.createElement('div');
            win.id = `window-${id}`;
            win.className = 'window absolute bg-slate-800 rounded-lg border border-slate-700 flex flex-col pointer-events-auto overflow-hidden';
            win.style.width = `${winConfig.width}px`;
            win.style.height = `${winConfig.height}px`;
            
            // Center window initially
            const left = Math.max(0, (window.innerWidth - winConfig.width) / 2 + (Math.random() * 40 - 20));
            const top = Math.max(0, (window.innerHeight - winConfig.height) / 2 + (Math.random() * 40 - 20));
            win.style.left = `${left}px`;
            win.style.top = `${top}px`;
            win.style.zIndex = ++zIndexCounter;

            win.innerHTML = `
                <!-- Title Bar -->
                <div class="h-8 bg-slate-900 border-b border-slate-700 flex items-center justify-between px-3 cursor-move select-none" onmousedown="startDrag(event, '${id}')">
                    <div class="flex items-center gap-2">
                        <span class="text-sm">${winConfig.icon}</span>
                        <span class="text-xs font-mono text-slate-300">${winConfig.title}</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <button class="w-3 h-3 rounded-full bg-yellow-500 hover:bg-yellow-400" onclick="minimizeWindow('${id}')"></button>
                        <button class="w-3 h-3 rounded-full bg-green-500 hover:bg-green-400" onclick="maximizeWindow('${id}')"></button>
                        <button class="w-3 h-3 rounded-full bg-red-500 hover:bg-red-400" onclick="closeWindow('${id}')"></button>
                    </div>
                </div>
                <!-- Content -->
                <div class="flex-1 overflow-auto bg-slate-800/90 relative">
                    ${winConfig.content}
                </div>
            `;

            win.addEventListener('mousedown', () => bringToFront(id));
            document.getElementById('windows-container').appendChild(win);
            activeWindows[id] = win;

            // Add to taskbar
            const taskbarItem = document.createElement('button');
            taskbarItem.id = `taskbar-${id}`;
            taskbarItem.className = 'px-3 py-1 bg-slate-800 hover:bg-slate-700 border-b-2 border-blue-500 text-xs text-slate-300 flex items-center gap-2 transition-colors';
            taskbarItem.innerHTML = `<span>${winConfig.icon}</span> ${winConfig.title}`;
            taskbarItem.onclick = () => {
                if (win.style.display === 'none') {
                    win.style.display = 'flex';
                    bringToFront(id);
                } else if (parseInt(win.style.zIndex) === zIndexCounter) {
                    minimizeWindow(id);
                } else {
                    bringToFront(id);
                }
            };
            document.getElementById('taskbar-apps').appendChild(taskbarItem);

            if (winConfig.onOpen) winConfig.onOpen();
        }

        function closeWindow(id) {
            const win = document.getElementById(`window-${id}`);
            if (win) win.remove();
            const taskItem = document.getElementById(`taskbar-${id}`);
            if (taskItem) taskItem.remove();
            delete activeWindows[id];
        }

        function minimizeWindow(id) {
            const win = document.getElementById(`window-${id}`);
            if (win) win.style.display = 'none';
            const taskItem = document.getElementById(`taskbar-${id}`);
            if (taskItem) taskItem.classList.remove('border-blue-500');
            if (taskItem) taskItem.classList.add('border-transparent', 'opacity-50');
        }

        function maximizeWindow(id) {
            const win = document.getElementById(`window-${id}`);
            if (win.dataset.maximized === 'true') {
                win.style.width = win.dataset.prevWidth;
                win.style.height = win.dataset.prevHeight;
                win.style.left = win.dataset.prevLeft;
                win.style.top = win.dataset.prevTop;
                win.dataset.maximized = 'false';
            } else {
                win.dataset.prevWidth = win.style.width;
                win.dataset.prevHeight = win.style.height;
                win.dataset.prevLeft = win.style.left;
                win.dataset.prevTop = win.style.top;
                
                win.style.width = '100%';
                win.style.height = 'calc(100% - 48px)'; // Minus taskbar
                win.style.left = '0';
                win.style.top = '0';
                win.dataset.maximized = 'true';
            }
            bringToFront(id);
        }

        function bringToFront(id) {
            const win = document.getElementById(`window-${id}`);
            if (win) {
                win.style.zIndex = ++zIndexCounter;
                win.style.display = 'flex';
                
                // Update taskbar state
                const taskItem = document.getElementById(`taskbar-${id}`);
                if (taskItem) {
                    taskItem.classList.add('border-blue-500');
                    taskItem.classList.remove('border-transparent', 'opacity-50');
                }
            }
        }

        // --- Drag Logic ---
        let isDragging = false;
        let currentDragWindow = null;
        let dragOffsetX = 0;
        let dragOffsetY = 0;

        function startDrag(e, id) {
            if (e.target.tagName === 'BUTTON') return; // Don't drag if clicking window controls
            const win = document.getElementById(`window-${id}`);
            if (win.dataset.maximized === 'true') return; // Don't drag maximized windows
            
            isDragging = true;
            currentDragWindow = win;
            const rect = win.getBoundingClientRect();
            dragOffsetX = e.clientX - rect.left;
            dragOffsetY = e.clientY - rect.top;
            bringToFront(id);
        }

        document.addEventListener('mousemove', (e) => {
            if (isDragging && currentDragWindow) {
                e.preventDefault();
                const x = e.clientX - dragOffsetX;
                const y = e.clientY - dragOffsetY;
                
                // Bounds checking
                const maxX = window.innerWidth - currentDragWindow.offsetWidth;
                const maxY = window.innerHeight - currentDragWindow.offsetHeight - 48; // Taskbar
                
                currentDragWindow.style.left = `${Math.max(0, Math.min(x, maxX))}px`;
                currentDragWindow.style.top = `${Math.max(0, Math.min(y, maxY))}px`;
            }
        });

        document.addEventListener('mouseup', () => {
            isDragging = false;
            currentDragWindow = null;
        });

        // --- Terminal Logic ---
        const fileSystem = {
            'about.txt': "Name: Pietro Uni Segura\nRole: Infrastructure Engineer\nLocation: Barcelona, Spain\nCertifications: CCNA 200-301, ENARSI 300-410, ITIL v4",
            'skills.md': "# Technical Skills\n\n## Cloud & Infrastructure\n- AWS (VPC, EC2, S3, CloudFront, Route53)\n- Terraform / Ansible\n- Kubernetes / Docker\n- Linux / Windows Server\n\n## Networking\n- OSPF / EIGRP / BGP / STP\n- Cisco Catalyst / DNA Center\n- Python scripting\n- Protocol analysis\n\n## Monitoring\n- Splunk / Nagios / Azure Monitor\n- CloudWatch\n- Log analysis and RCA",
            'contact.txt': "Email: pietrouni@gmail.com\nPhone: +34 682 635 992\nGitHub: github.com/pietrocious\nLinkedIn: linkedin.com/in/pietrouni\nWebsite: suprsymmetry.com",
            'projects.txt': "1. suprsymmetry - Production AWS infrastructure with Terraform\n2. Portfolio Website - Static site on S3/CloudFront/Route53\n3. Network Automation - Python scripts for Cisco DNA Center"
        };

        function handleTerminalCommand(e) {
            if (e.key === 'Enter') {
                const input = e.target;
                const cmd = input.value.trim();
                const output = document.getElementById('term-output');
                
                // Echo command
                output.innerHTML += `<div class="text-slate-300">pietro@suprsymmetry:~$ ${cmd}</div>`;
                
                // Process command
                const args = cmd.split(' ');
                const command = args[0].toLowerCase();
                
                switch(command) {
                    case 'help':
                        output.innerHTML += `<div class="text-yellow-400">Available commands: help, ls, cat [file], clear, whoami, date, exit</div>`;
                        break;
                    case 'ls':
                        output.innerHTML += `<div class="text-blue-400">${Object.keys(fileSystem).join('  ')}</div>`;
                        break;
                    case 'cat':
                        if (args[1] && fileSystem[args[1]]) {
                            output.innerHTML += `<div class="whitespace-pre-wrap">${fileSystem[args[1]]}</div>`;
                        } else if (args[1]) {
                            output.innerHTML += `<div class="text-red-400">cat: ${args[1]}: No such file or directory</div>`;
                        } else {
                            output.innerHTML += `<div class="text-red-400">usage: cat [file]</div>`;
                        }
                        break;
                    case 'clear':
                        output.innerHTML = '';
                        break;
                    case 'whoami':
                        output.innerHTML += `<div>root (just kidding, it's you)</div>`;
                        break;
                    case 'date':
                        output.innerHTML += `<div>${new Date().toString()}</div>`;
                        break;
                    case 'exit':
                        closeWindow('terminal');
                        break;
                    case '':
                        break;
                    default:
                        output.innerHTML += `<div class="text-red-400">command not found: ${command}</div>`;
                }
                
                input.value = '';
                output.scrollTop = output.scrollHeight;
            }
        }

        // --- Clock ---
        function updateClock() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            document.getElementById('clock').textContent = `${hours}:${minutes}`;
        }
        setInterval(updateClock, 1000);
        updateClock();

        // --- Start Menu ---
        function toggleStartMenu() {
            const menu = document.getElementById('start-menu');
            menu.classList.toggle('hidden');
            menu.classList.toggle('flex');
        }

        // Close start menu when clicking outside
        document.addEventListener('click', (e) => {
            const menu = document.getElementById('start-menu');
            const startBtn = document.querySelector('button[onclick="toggleStartMenu()"]');
            if (!menu.contains(e.target) && !startBtn.contains(e.target) && !menu.classList.contains('hidden')) {
                toggleStartMenu();
            }
        });

    </script>
</body>
</html>
